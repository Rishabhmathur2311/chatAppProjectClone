{"ast":null,"code":"import _regeneratorRuntime from\"E:/WhatsApp clone/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/WhatsApp clone/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _taggedTemplateLiteral from\"E:/WhatsApp clone/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import{Box,InputBase,styled}from\"@mui/material\";import React,{useState}from\"react\";import EmojiEmotionsOutlinedIcon from'@mui/icons-material/EmojiEmotionsOutlined';import AttachFileOutlinedIcon from'@mui/icons-material/AttachFileOutlined';import KeyboardVoiceOutlinedIcon from'@mui/icons-material/KeyboardVoiceOutlined';import{useEffect}from\"react\";import{uploadFile}from\"../service/api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Container=styled(Box)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\nheight: 55px;\\nbackground: #f0f2f5;\\ndisplay: flex;\\nalign-items: center;\\nwidth: 100%;\\n& > *{\\n    margin: 5px;\\n    color: #919191;\\n}\\n\"])));var Search=styled(Box)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\nbackground-color: #fff;\\nborder-radius: 15px;\\nheight: 38px;\\nwidth: calc(94% - 100px);\\n\"])));var ClipIcon=styled(AttachFileOutlinedIcon)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\ntransform: rotate(40deg);\\n\"])));var InputField=styled(InputBase)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\nwidth: 100%;\\npaading: 20px;\\nheight: 30px;\\npadding-left: 25px;\\nfont-size: 16px;\\npadding-top: 7px;\\n\"])));var Clip=styled(ClipIcon)(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\ncursor: pointer;\\n\"])));var Footer=function Footer(_ref){var sendText=_ref.sendText,setValue=_ref.setValue,value=_ref.value,file=_ref.file,setFile=_ref.setFile,image=_ref.image,setImage=_ref.setImage;useEffect(function(){var getImage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!file){_context.next=8;break;}data=new FormData();data.append(\"name\",file.name);data.append(\"file\",file);_context.next=6;return uploadFile(data);case 6:response=_context.sent;setImage(response.data);case 8:case\"end\":return _context.stop();}},_callee);}));return function getImage(){return _ref2.apply(this,arguments);};}();getImage();},[file]);var onFileChange=function onFileChange(e){setFile(e.target.files[0]);setValue(e.target.files[0].name);};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(EmojiEmotionsOutlinedIcon,{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fileInput\",children:/*#__PURE__*/_jsx(Clip,{})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"fileInput\",style:{display:\"none\"},onChange:function onChange(e){return onFileChange(e);}}),/*#__PURE__*/_jsx(Search,{children:/*#__PURE__*/_jsx(InputField,{placeholder:\"Type a message\",onChange:function onChange(e){return setValue(e.target.value);},onKeyPress:function onKeyPress(e){return sendText(e);},value:value})}),/*#__PURE__*/_jsx(KeyboardVoiceOutlinedIcon,{})]});};export default Footer;","map":{"version":3,"names":["Box","InputBase","styled","React","useState","EmojiEmotionsOutlinedIcon","AttachFileOutlinedIcon","KeyboardVoiceOutlinedIcon","useEffect","uploadFile","jsx","_jsx","jsxs","_jsxs","Container","_templateObject","_taggedTemplateLiteral","Search","_templateObject2","ClipIcon","_templateObject3","InputField","_templateObject4","Clip","_templateObject5","Footer","_ref","sendText","setValue","value","file","setFile","image","setImage","getImage","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","response","wrap","_callee$","_context","prev","next","FormData","append","name","sent","stop","apply","arguments","onFileChange","e","target","files","children","htmlFor","type","id","style","display","onChange","placeholder","onKeyPress"],"sources":["E:/WhatsApp clone/client/src/chat/Footer.js"],"sourcesContent":["import { Box, InputBase, styled } from \"@mui/material\";\r\nimport React, { useState } from \"react\";\r\nimport EmojiEmotionsOutlinedIcon from '@mui/icons-material/EmojiEmotionsOutlined';\r\nimport AttachFileOutlinedIcon from '@mui/icons-material/AttachFileOutlined';\r\nimport KeyboardVoiceOutlinedIcon from '@mui/icons-material/KeyboardVoiceOutlined';\r\nimport { useEffect } from \"react\";\r\nimport { uploadFile } from \"../service/api\";\r\n\r\nconst Container=styled(Box)`\r\nheight: 55px;\r\nbackground: #f0f2f5;\r\ndisplay: flex;\r\nalign-items: center;\r\nwidth: 100%;\r\n& > *{\r\n    margin: 5px;\r\n    color: #919191;\r\n}\r\n`\r\n\r\nconst Search=styled(Box)`\r\nbackground-color: #fff;\r\nborder-radius: 15px;\r\nheight: 38px;\r\nwidth: calc(94% - 100px);\r\n`\r\n\r\nconst ClipIcon=styled(AttachFileOutlinedIcon)`\r\ntransform: rotate(40deg);\r\n`\r\n\r\nconst InputField=styled(InputBase)`\r\nwidth: 100%;\r\npaading: 20px;\r\nheight: 30px;\r\npadding-left: 25px;\r\nfont-size: 16px;\r\npadding-top: 7px;\r\n`\r\n\r\nconst Clip=styled(ClipIcon)`\r\ncursor: pointer;\r\n`\r\n\r\nconst Footer=({sendText, setValue,  value, file, setFile, image, setImage})=>{\r\n\r\n    useEffect(()=>{\r\n        const getImage=async ()=>{\r\n            if(file){\r\n                const data=new FormData();\r\n                data.append(\"name\", file.name);\r\n                data.append(\"file\", file);\r\n\r\n                let response=await uploadFile(data);\r\n                setImage(response.data);\r\n            }\r\n        }\r\n        getImage();\r\n    }, [file])\r\n\r\n    const onFileChange=(e)=>{\r\n        setFile(e.target.files[0]);\r\n        setValue(e.target.files[0].name);\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <EmojiEmotionsOutlinedIcon />\r\n            <label htmlFor=\"fileInput\">\r\n            <Clip  />\r\n            </label>\r\n            <input\r\n            type=\"file\"\r\n            id=\"fileInput\"\r\n            style={{display: \"none\"}}\r\n            onChange={(e)=>onFileChange(e)}\r\n            ></input>\r\n            <Search>\r\n                <InputField placeholder=\"Type a message\"\r\n                onChange={(e)=>setValue(e.target.value)}\r\n                onKeyPress={(e)=>sendText(e)}\r\n                value={value}\r\n                />\r\n            </Search>\r\n            <KeyboardVoiceOutlinedIcon />\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default Footer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}