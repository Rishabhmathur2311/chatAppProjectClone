{"ast":null,"code":"import _regeneratorRuntime from\"E:/WhatsApp clone/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/WhatsApp clone/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/WhatsApp clone/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from\"react\";import{useEffect}from\"react\";import{Box}from\"@mui/material\";import ChatHeader from\"./ChatHeader\";import Messages from\"./Messages\";import Footer from\"./Footer\";import{AccountContext}from\"../context/AccountProvider\";import{getConversation}from\"../service/api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChatBox=function ChatBox(){var _useContext=useContext(AccountContext),person=_useContext.person,account=_useContext.account;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),conversation=_useState2[0],setConversation=_useState2[1];useEffect(function(){var getConversationDetails=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getConversation({senderId:account.sub,receiverId:person.sub});case 2:data=_context.sent;setConversation(data);case 4:case\"end\":return _context.stop();}},_callee);}));return function getConversationDetails(){return _ref.apply(this,arguments);};}();getConversationDetails();},[person.sub]);return/*#__PURE__*/_jsx(Box,{style:{height:\"80%\"},children:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(ChatHeader,{person:person}),/*#__PURE__*/_jsx(Messages,{person:person,conversation:conversation})]})});};export default ChatBox;","map":{"version":3,"names":["React","useContext","useState","useEffect","Box","ChatHeader","Messages","Footer","AccountContext","getConversation","jsx","_jsx","jsxs","_jsxs","ChatBox","_useContext","person","account","_useState","_useState2","_slicedToArray","conversation","setConversation","getConversationDetails","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","senderId","sub","receiverId","sent","stop","apply","arguments","style","height","children"],"sources":["E:/WhatsApp clone/client/src/chat/ChatBox.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { Box } from \"@mui/material\";\r\nimport ChatHeader from \"./ChatHeader\";\r\nimport Messages from \"./Messages\";\r\nimport Footer from \"./Footer\";\r\nimport { AccountContext } from \"../context/AccountProvider\";\r\nimport { getConversation } from \"../service/api\";\r\n\r\nconst ChatBox=()=>{\r\n\r\n    const {person, account}=useContext(AccountContext);\r\n\r\n    const [conversation, setConversation]=useState({});\r\n\r\n    useEffect(() => {\r\n        const getConversationDetails = async () => {\r\n            let data = await getConversation({ senderId: account.sub, receiverId: person.sub });\r\n            setConversation(data);\r\n        }\r\n        getConversationDetails();\r\n    }, [person.sub]);\r\n\r\n    return (\r\n        <Box style={{height: \"80%\"}}>\r\n            <Box>\r\n                <ChatHeader person={person}/>\r\n                <Messages person={person}  conversation={conversation}/>\r\n            </Box>\r\n        </Box>\r\n    );\r\n}\r\n\r\nexport default ChatBox;"],"mappings":"0VAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CACnD,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,GAAG,KAAQ,eAAe,CACnC,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,OAASC,cAAc,KAAQ,4BAA4B,CAC3D,OAASC,eAAe,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjD,GAAM,CAAAC,OAAO,CAAC,QAAR,CAAAA,OAAOA,CAAA,CAAK,CAEd,IAAAC,WAAA,CAAwBd,UAAU,CAACO,cAAc,CAAC,CAA3CQ,MAAM,CAAAD,WAAA,CAANC,MAAM,CAAEC,OAAO,CAAAF,WAAA,CAAPE,OAAO,CAEtB,IAAAC,SAAA,CAAsChB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAiB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3CG,YAAY,CAAAF,UAAA,IAAEG,eAAe,CAAAH,UAAA,IAEpChB,SAAS,CAAC,UAAM,CACZ,GAAM,CAAAoB,sBAAsB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,IAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACV,CAAAzB,eAAe,CAAC,CAAE0B,QAAQ,CAAElB,OAAO,CAACmB,GAAG,CAAEC,UAAU,CAAErB,MAAM,CAACoB,GAAI,CAAC,CAAC,QAA/EP,IAAI,CAAAG,QAAA,CAAAM,IAAA,CACRhB,eAAe,CAACO,IAAI,CAAC,CAAC,wBAAAG,QAAA,CAAAO,IAAA,MAAAX,OAAA,GACzB,kBAHK,CAAAL,sBAAsBA,CAAA,SAAAC,IAAA,CAAAgB,KAAA,MAAAC,SAAA,OAG3B,CACDlB,sBAAsB,CAAC,CAAC,CAC5B,CAAC,CAAE,CAACP,MAAM,CAACoB,GAAG,CAAC,CAAC,CAEhB,mBACIzB,IAAA,CAACP,GAAG,EAACsC,KAAK,CAAE,CAACC,MAAM,CAAE,KAAK,CAAE,CAAAC,QAAA,cACxB/B,KAAA,CAACT,GAAG,EAAAwC,QAAA,eACAjC,IAAA,CAACN,UAAU,EAACW,MAAM,CAAEA,MAAO,CAAC,CAAC,cAC7BL,IAAA,CAACL,QAAQ,EAACU,MAAM,CAAEA,MAAO,CAAEK,YAAY,CAAEA,YAAa,CAAC,CAAC,EACvD,CAAC,CACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAP,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}